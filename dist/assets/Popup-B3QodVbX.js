import{j as e,r as o}from"./main-CGunOi-b.js";const N=({onAction:t,inputText:a})=>{const l=[{id:"extract-keywords",label:"Extract Keywords",icon:"🔑",description:"Find key terms",action:()=>t("extract-keywords",a)},{id:"translate",label:"Translate",icon:"🌐",description:"Translate text",action:()=>t("translate",a)},{id:"tone-analysis",label:"Tone Analysis",icon:"🎭",description:"Analyze sentiment",action:()=>t("tone-analysis",a)},{id:"expand",label:"Expand",icon:"📈",description:"Add more detail",action:()=>t("expand",a)}];return e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-lg border border-white/20 p-5 mb-4",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"⚡"}),e.jsx("span",{children:"Quick Actions"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:l.map(r=>e.jsx("button",{onClick:r.action,disabled:!a.trim(),className:"p-3 rounded-lg border border-gray-200 bg-white hover:bg-gray-50 hover:border-gray-300 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed group",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:r.icon}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-xs font-medium text-gray-900",children:r.label}),e.jsx("div",{className:"text-xs text-gray-500",children:r.description})]})]})},r.id))})]})},w=({inputText:t,output:a,selectedOperation:l})=>{const[r,d]=o.useState({wordCount:0,charCount:0,readingTime:0,outputWordCount:0,compressionRatio:0});return o.useEffect(()=>{const i=t.trim().split(/\s+/).filter(m=>m.length>0),n=t.length,c=Math.ceil(i.length/200),x=a.trim().split(/\s+/).filter(m=>m.length>0),g=i.length>0?Math.round((1-x.length/i.length)*100):0;d({wordCount:i.length,charCount:n,readingTime:c,outputWordCount:x.length,compressionRatio:g})},[t,a]),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-lg border border-white/20 p-4 mb-4",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"📊"}),e.jsx("span",{children:"Statistics"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs text-blue-600 font-medium mb-1",children:"Input"}),e.jsx("div",{className:"text-lg font-bold text-blue-800",children:r.wordCount}),e.jsx("div",{className:"text-xs text-blue-600",children:"words"})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs text-green-600 font-medium mb-1",children:"Output"}),e.jsx("div",{className:"text-lg font-bold text-green-800",children:r.outputWordCount}),e.jsx("div",{className:"text-xs text-green-600",children:"words"})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs text-purple-600 font-medium mb-1",children:"Reading Time"}),e.jsx("div",{className:"text-lg font-bold text-purple-800",children:r.readingTime}),e.jsx("div",{className:"text-xs text-purple-600",children:"minutes"})]}),l==="summarize"&&e.jsxs("div",{className:"bg-orange-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs text-orange-600 font-medium mb-1",children:"Compression"}),e.jsxs("div",{className:"text-lg font-bold text-orange-800",children:[r.compressionRatio,"%"]}),e.jsx("div",{className:"text-xs text-orange-600",children:"reduced"})]}),l==="expand"&&e.jsxs("div",{className:"bg-indigo-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs text-indigo-600 font-medium mb-1",children:"Expansion"}),e.jsxs("div",{className:"text-lg font-bold text-indigo-800",children:[Math.round((r.outputWordCount/r.wordCount-1)*100),"%"]}),e.jsx("div",{className:"text-xs text-indigo-600",children:"increase"})]})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:e.jsxs("div",{className:"text-xs text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Operation:"})," ",l]})})]})},C=({shortcuts:t,enabled:a=!0})=>{o.useEffect(()=>{if(!a)return;const l=r=>{const d=t.find(i=>i.key.toLowerCase()===r.key.toLowerCase()&&!!i.ctrlKey===r.ctrlKey&&!!i.shiftKey===r.shiftKey&&!!i.altKey===r.altKey);d&&(r.preventDefault(),d.action())};return document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}},[t,a])},k=t=>[{key:"Enter",ctrlKey:!0,action:t.onProcess,description:"Process text (Ctrl+Enter)"},{key:"Delete",ctrlKey:!0,action:t.onClear,description:"Clear all (Ctrl+Delete)"},...t.onCopy?[{key:"c",ctrlKey:!0,action:t.onCopy,description:"Copy response (Ctrl+C)"}]:[]],S=()=>{const[t,a]=o.useState(""),[l,r]=o.useState("summarize"),[d,i]=o.useState(!1),[n,c]=o.useState(""),[x,g]=o.useState([]);o.useEffect(()=>{m()},[]);const m=async()=>{try{const s=await chrome.storage.local.get(),u=Object.entries(s).filter(([h])=>h.startsWith("ai_cache_")).map(([,h])=>h).sort((h,f)=>f.timestamp-h.timestamp).slice(0,3);g(u)}catch(s){console.error("Error loading cached responses:",s)}},p=async()=>{if(!t.trim()){alert("Please enter some text to process");return}i(!0),c("");try{const s=await chrome.runtime.sendMessage({type:"PROCESS_TEXT",data:{text:t,operation:l}});s&&s.response?c(s.response):c("Processing completed, but no response received. This is expected in the MVP version.")}catch(s){console.error("Error processing text:",s),c("Error processing text. Please try again.")}finally{i(!1),setTimeout(m,1e3)}},b=()=>{a(""),c("")},j=s=>{a(s.input),c(s.response),r(s.operation)},y=(s,u)=>{console.log("Quick action:",s,u),alert(`Quick action "${s}" would be processed here with Chrome AI APIs`)},v=k({onProcess:p,onClear:b,onCopy:n?()=>{n&&navigator.clipboard.writeText(n)}:void 0});return C({shortcuts:v}),e.jsxs("div",{className:"w-96 h-[600px] bg-gradient-to-br from-gray-50 to-blue-50 p-4 overflow-y-auto",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-bold",children:"MF"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"MuseFlow AI"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Chrome AI Creative Assistant"})]})]})}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-lg border border-white/20 p-5 mb-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"input-text",className:"block text-sm font-medium text-gray-700 mb-2",children:"Text to process:"}),e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{id:"input-text",value:t,onChange:s=>a(s.target.value),placeholder:"Paste or type your content here...",className:"w-full h-24 p-3 text-sm border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 resize-none transition-all duration-200 bg-gray-50/50"}),t.length>0&&e.jsxs("div",{className:"absolute top-2 right-2 text-xs text-gray-400 bg-white/80 px-2 py-1 rounded",children:[t.length," chars"]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"operation",className:"block text-sm font-medium text-gray-700 mb-2",children:"Operation:"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"summarize",label:"Summarize",icon:"📝",desc:"Brief overview"},{value:"rewrite",label:"Rewrite",icon:"✏️",desc:"Improve text"},{value:"ideate",label:"Ideate",icon:"💡",desc:"Generate ideas"}].map(s=>e.jsxs("button",{onClick:()=>r(s.value),className:`p-2 rounded-lg border-2 transition-all duration-200 text-xs ${l===s.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 bg-white hover:border-gray-300 hover:bg-gray-50"}`,children:[e.jsx("div",{className:"text-sm mb-1",children:s.icon}),e.jsx("div",{className:"font-medium",children:s.label}),e.jsx("div",{className:"text-xs text-gray-500",children:s.desc})]},s.value))})]}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("button",{onClick:p,disabled:d||!t.trim(),className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-4 rounded-lg text-sm font-medium hover:from-blue-700 hover:to-purple-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:d?e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{children:"🚀"}),e.jsx("span",{children:"Run MuseFlow"})]})}),e.jsx("button",{onClick:b,className:"px-4 py-3 border border-gray-200 text-gray-600 rounded-lg text-sm font-medium hover:bg-gray-50 hover:border-gray-300 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200",title:"Clear all",children:"🗑️"})]}),n&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"AI Response:"}),e.jsx("button",{onClick:()=>navigator.clipboard.writeText(n),className:"text-xs text-blue-600 hover:text-blue-700 transition-colors",title:"Copy to clipboard",children:"📋 Copy"})]}),e.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-blue-50 border border-gray-200 rounded-lg p-4 min-h-20 max-h-32 overflow-y-auto",children:e.jsx("pre",{className:"whitespace-pre-wrap text-xs text-gray-800 font-sans leading-relaxed",children:n})})]}),d&&e.jsx("div",{className:"text-center py-4",children:e.jsxs("div",{className:"inline-flex items-center px-3 py-2 bg-blue-50 text-blue-700 rounded-lg text-sm",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]})})]}),t&&e.jsx(w,{inputText:t,output:n,selectedOperation:l}),e.jsx(N,{onAction:y,inputText:t}),x.length>0&&e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-lg border border-white/20 p-5",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"📚"}),e.jsx("span",{children:"Recent Responses"}),e.jsx("span",{className:"ml-auto text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:x.length})]}),e.jsx("div",{className:"space-y-3",children:x.map((s,u)=>e.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg hover:bg-gray-50 hover:border-gray-300 cursor-pointer transition-all duration-200 group",onClick:()=>j(s),children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("span",{className:"text-xs font-medium text-blue-600 capitalize bg-blue-50 px-2 py-1 rounded-full",children:s.operation}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(s.timestamp).toLocaleTimeString()})]}),e.jsxs("p",{className:"text-xs text-gray-700 line-clamp-2 group-hover:text-gray-900 transition-colors",children:[s.input.substring(0,80),"..."]}),e.jsx("div",{className:"mt-2 text-xs text-gray-400",children:"Click to load →"})]},u))})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg p-3 border border-white/30",children:[e.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"MuseFlow v1.0.0"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Chrome AI Challenge 2025"}),e.jsxs("div",{className:"mt-2 flex justify-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),e.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),e.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]})]})})]})};export{S as default};
